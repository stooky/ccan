---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import Section from '../components/Section.astro';
import FeatureGrid from '../components/FeatureGrid.astro';
import CTA from '../components/CTA.astro';
import ReviewWidget from '../components/ReviewWidget.astro';
import FAQSchema from '../components/schema/FAQSchema.astro';
import WebSiteSchema from '../components/schema/WebSiteSchema.astro';
import ServiceSchema from '../components/schema/ServiceSchema.astro';
import ContactPointSchema from '../components/schema/ContactPointSchema.astro';
import SpeakableSchema from '../components/schema/SpeakableSchema.astro';
import PlaceSchema from '../components/schema/PlaceSchema.astro';
import { siteConfig, getContainerBySlug } from '../config/site';
import heroBg from '../assets/images/hero-bg.webp';

// Helper to format price from config
function formatPrice(price: number | undefined): string | null {
  if (!price) return null;
  return `$${price.toLocaleString()}+`;
}

// Container display data (UI-specific fields + prices from config)
const containerDisplayData = [
  { slug: "9ft-mini", dimensions: "9' × 7' × 7'6\"", sqft: "63 sq ft", bestFor: "Tight spaces, backyard storage", popular: false },
  { slug: "20ft-standard", dimensions: "20' × 8' × 8'6\"", sqft: "160 sq ft", bestFor: "Residential, small business", popular: true },
  { slug: "40ft-standard", dimensions: "40' × 8' × 8'6\"", sqft: "320 sq ft", bestFor: "Commercial, industrial", popular: false },
  { slug: "40ft-high-cube", dimensions: "40' × 8' × 9'6\"", sqft: "320 sq ft", bestFor: "Tall items, max capacity", popular: true },
];

// Merge display data with pricing from config (single source of truth for prices)
const containers = containerDisplayData.map(display => {
  const product = getContainerBySlug(display.slug);
  return {
    name: product?.name || display.slug,
    slug: display.slug,
    dimensions: display.dimensions,
    sqft: display.sqft,
    newPrice: formatPrice(product?.new?.min),
    usedPrice: formatPrice(product?.used?.min),
    bestFor: display.bestFor,
    popular: display.popular,
  };
});

// FAQ data for schema and display - targeting Search Console keywords
const faqs = [
  {
    question: "What is a sea can or C-Can?",
    answer: "A sea can (also spelled seacan, C-Can, or c can) is a shipping container used for storage. These steel containers were originally designed for transporting goods overseas, but are now widely used across Saskatchewan for secure, weatherproof storage. They're perfect for farms, construction sites, businesses, and residential storage needs."
  },
  {
    question: "How much does a shipping container cost in Saskatchewan?",
    answer: "Shipping container prices in Saskatchewan start from $3,000 for quality used 20ft containers. New (one-trip) containers range from $4,450 to $6,900 depending on size. 40ft containers and high cube options are priced based on condition and availability. Contact us for current pricing and inventory at our Martensville location."
  },
  {
    question: "Do you deliver sea cans to Saskatoon and area?",
    answer: "Yes! We deliver shipping containers throughout Saskatoon, Martensville, Warman, and all of Saskatchewan. Our experienced delivery drivers can place your container exactly where you need it. Delivery is fast and professional - many customers receive their container within 24-48 hours of purchase."
  },
  {
    question: "Can I rent a shipping container instead of buying?",
    answer: "Absolutely! C-Can Sam offers flexible container rentals with month-to-month terms. Renting is ideal for renovations, temporary storage during a move, construction projects, or seasonal needs. We have 20ft and 40ft containers available for rent, delivered to your location or stored at our secure Martensville facility."
  },
  {
    question: "What sizes of storage containers do you have?",
    answer: "We carry a full range of shipping container sizes: 9ft mini containers for tight spaces, 20ft standard containers (most popular for residential use), 40ft standard containers for maximum storage, and 40ft high cube containers with extra height. All containers are wind and watertight with secure locking systems."
  },
  {
    question: "Where is your storage facility located?",
    answer: "Our storage facility is located at 12 Peters Avenue in Martensville, Saskatchewan - just minutes north of Saskatoon. We offer secure on-site storage where you can keep your rented container at our facility with convenient access. The location serves Saskatoon, Warman, and the surrounding area."
  },
  {
    question: "What's the difference between new and used containers?",
    answer: "New containers (called 'one-trip' containers) have only made one voyage from the manufacturer and are in excellent cosmetic condition. Used containers have been in shipping service longer but are thoroughly inspected to ensure they're wind and watertight. Both options provide secure, weatherproof storage - used containers offer better value while new containers look pristine."
  },
  {
    question: "Do you offer portable storage solutions?",
    answer: "Yes! Our shipping containers are the ultimate portable storage solution. We deliver containers directly to your property in Saskatoon, Martensville, Warman, or anywhere in Saskatchewan. Use them for moving, renovations, farm equipment, business inventory, or any storage need. When you're done, we pick them up - or keep it permanently with a purchase."
  }
];

// C-Can Sam Storage Services
const features = [
  {
    title: 'Container Rentals',
    description: 'Choose flexible rental options designed to accommodate both temporary needs and long-term storage. Perfect for renovations, seasonal storage, or business inventory.',
    icon: `<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>`,
    href: '/on-site-storage-rentals',
  },
  {
    title: 'Container Sales',
    description: 'Invest in a seacan for a permanent, secure storage solution. Our containers are built to last, offering peace of mind for whatever you need to store.',
    icon: `<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z" /></svg>`,
    href: '/storage-container-sales-and-rentals',
  },
  {
    title: 'On-Site Storage',
    description: 'Secure and weatherproof storage at our Martensville facility. Ideal for personal, business, or industrial use with convenient access.',
    icon: `<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205l3 1m1.5.5l-1.5-.5M6.75 7.364V3h-3v18m3-13.636l10.5-3.819" /></svg>`,
    href: '/on-site-storage-rentals',
  },
  {
    title: 'Off-Site Storage',
    description: 'Keep your container at your property for easy access. We deliver to your preferred location within Saskatchewan for convenient storage.',
    icon: `<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z" /></svg>`,
    href: '/storage-container-sales-and-rentals#offsite',
  },
];

---

<Layout
  title="Sea Can Sales & Rentals Saskatoon SK"
  description="New & used sea cans from $3,000. Buy, rent or store shipping containers in Saskatoon, Martensville & across Saskatchewan. Fast delivery. Call 306-281-4100 for a free quote."
>
  <!-- Schema Markup for Rich Results -->
  <FAQSchema faqs={faqs} />
  <WebSiteSchema />
  <ServiceSchema />
  <ContactPointSchema />
  <SpeakableSchema
    title="Sea Can Sales & Rentals Saskatoon SK"
    description="C-Can Sam is Saskatchewan's trusted shipping container supplier. Buy new sea cans from $4,450, used from $3,000. Rentals from $125/month. Fast delivery across the province."
    cssSelectors={['.entity-statement', 'h1', '.key-facts']}
  />
  <PlaceSchema cities={[
    { name: 'Saskatoon' },
    { name: 'Martensville' },
    { name: 'Warman' },
    { name: 'Regina' },
    { name: 'Prince Albert' },
    { name: 'Moose Jaw' },
    { name: 'Swift Current' },
    { name: 'Yorkton' },
    { name: 'North Battleford' },
    { name: 'Lloydminster' },
  ]} />

  <!-- Hero Section -->
  <Hero
    title="Sea Can Sales & Rentals Saskatoon"
    subtitle="Saskatchewan's trusted shipping container supplier since 2022. New sea cans from $4,450, used from $3,000. Buy, rent, or store — we deliver across the province."
    primaryCta={{ text: "WhatsApp Us", href: "https://wa.me/13062814100?text=Hello%20there!%20I%20am%20interested%20in%20your%20services.", variant: "whatsapp" }}
    secondaryCta={{ text: "Our Containers", href: "/storage-container-sales-and-rentals", variant: "blue" }}
    backgroundImage={heroBg}
  />

  <!-- Contact Banner -->
  <div class="bg-secondary-600 text-white py-3">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-4 text-center">
        <span class="font-semibold">Saskatchewan's Premier Seacan Solutions Provider</span>
        <span class="hidden sm:inline">|</span>
        <a href={`tel:${siteConfig.contact.phone}`} class="font-bold hover:underline">
          {siteConfig.contact.phone}
        </a>
      </div>
    </div>
  </div>

  <!-- Entity Statement - About C-Can Sam (LLM Optimized) -->
  <section class="entity-statement bg-white py-12 border-b border-gray-100">
    <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
      <p class="text-lg text-gray-700 leading-relaxed">
        <strong class="text-gray-900">C-Can Sam</strong> is a family-owned shipping container company based in
        <strong>Martensville, Saskatchewan</strong>, serving Saskatoon, Warman, and communities across the province.
        We specialize in <strong>sea can sales, rentals, and secure storage</strong> — offering new and used
        storage containers from 9ft minis to 40ft high cubes. Whether you call them seacans, conex boxes, or
        ISO containers, we have what you need. Looking for portable storage for a renovation, a permanent solution
        for your farm or business, or secure on-site storage at our facility? We provide <strong>fast delivery,
        competitive pricing, and straightforward service</strong> you can count on.
      </p>
    </div>
  </section>

  <!-- Services Section -->
  <Section
    title="Super Easy Shipping Container Sales & Rentals"
    subtitle="Explore our versatile range of shipping containers available for sale and rent from our headquarters near Saskatoon, Saskatchewan."
    background="gray"
  >
    <FeatureGrid features={features} columns={4} />
  </Section>

  <!-- Container Sizes Quick Reference -->
  <Section
    title="Container Sizes & Pricing"
    subtitle="Find the right shipping container for your needs"
  >
    <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-4">
      {containers.map((container) => (
        <a
          href={`/containers/${container.slug}`}
          class="group relative rounded-xl border border-gray-200 bg-white p-6 shadow-sm transition-all hover:border-primary-300 hover:shadow-md"
        >
          {container.popular && (
            <span class="absolute -top-3 right-4 rounded-full bg-primary-500 px-3 py-1 text-xs font-medium text-white">
              Popular
            </span>
          )}
          <h3 class="text-xl font-bold text-gray-900 group-hover:text-primary-600">
            {container.name}
          </h3>
          <p class="mt-1 text-sm text-gray-500">{container.dimensions}</p>
          <p class="text-sm text-gray-500">{container.sqft}</p>

          <div class="mt-4 space-y-2">
            {container.usedPrice && (
              <div class="flex justify-between">
                <span class="text-sm text-gray-600">Used:</span>
                <span class="font-semibold text-gray-900">{container.usedPrice}</span>
              </div>
            )}
            {container.newPrice && (
              <div class="flex justify-between">
                <span class="text-sm text-gray-600">New:</span>
                <span class="font-semibold text-gray-900">{container.newPrice}</span>
              </div>
            )}
          </div>

          <p class="mt-4 text-xs text-gray-500">
            Best for: {container.bestFor}
          </p>

          <div class="mt-4 flex items-center text-sm font-medium text-primary-600 group-hover:text-primary-700">
            View details
            <svg class="ml-1 h-4 w-4 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
          </div>
        </a>
      ))}
    </div>
    <div class="mt-8 text-center">
      <a
        href="/storage-container-sales-and-rentals"
        class="inline-flex items-center justify-center rounded-lg bg-primary-600 px-6 py-3 text-base font-medium text-white shadow-sm transition-colors hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"
      >
        View All Containers
      </a>
    </div>
  </Section>

  <!-- Why Choose Us Section -->
  <Section
    title="Versatile Storage Options"
    subtitle="Storage solutions for every need."
  >
    <div class="grid gap-12 lg:grid-cols-2 lg:items-center">
      <div>
        <p class="text-lg text-gray-600">
          Our seacans are ideal for various uses, from home projects to business storage.
          Whether you need extra space for renovation or a secure spot for your business
          inventory, our containers offer a reliable solution. With easy access from
          Martensville, Warman, and the surrounding area, you can rest easy knowing that
          your belongings are safe, secure, and close to home.
        </p>
        <ul class="mt-8 space-y-4">
          <li class="flex items-start gap-3">
            <svg class="mt-1 h-5 w-5 flex-shrink-0 text-primary-600" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-gray-600"><strong>Move-in Ready</strong> - Containers delivered ready to use</span>
          </li>
          <li class="flex items-start gap-3">
            <svg class="mt-1 h-5 w-5 flex-shrink-0 text-primary-600" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-gray-600"><strong>Weatherproof</strong> - Built to withstand Saskatchewan weather</span>
          </li>
          <li class="flex items-start gap-3">
            <svg class="mt-1 h-5 w-5 flex-shrink-0 text-primary-600" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-gray-600"><strong>Secure</strong> - Heavy-duty locks and steel construction</span>
          </li>
          <li class="flex items-start gap-3">
            <svg class="mt-1 h-5 w-5 flex-shrink-0 text-primary-600" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-gray-600"><strong>Delivery Available</strong> - We deliver throughout Saskatchewan</span>
          </li>
        </ul>
        <div class="mt-8">
          <a
            href="/about"
            class="inline-flex items-center text-primary-600 font-medium hover:text-primary-700"
          >
            Learn more about us
            <svg class="ml-2 h-4 w-4" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
          </a>
        </div>
      </div>
      <div class="relative">
        <!-- Service Highlights Grid -->
        <div class="grid grid-cols-2 gap-4">
          <div class="rounded-xl bg-primary-50 p-6 text-center">
            <div class="text-3xl font-bold text-primary-600">Sales</div>
            <div class="mt-1 text-sm text-gray-600">New & Used</div>
          </div>
          <div class="rounded-xl bg-secondary-50 p-6 text-center">
            <div class="text-3xl font-bold text-secondary-600">Rentals</div>
            <div class="mt-1 text-sm text-gray-600">Flexible Terms</div>
          </div>
          <div class="rounded-xl bg-secondary-50 p-6 text-center">
            <div class="text-3xl font-bold text-secondary-600">Onsite</div>
            <div class="mt-1 text-sm text-gray-600">Delivery Available</div>
          </div>
          <div class="rounded-xl bg-primary-50 p-6 text-center">
            <div class="text-3xl font-bold text-primary-600">Offsite</div>
            <div class="mt-1 text-sm text-gray-600">Secure Storage</div>
          </div>
        </div>
      </div>
    </div>
  </Section>

  <!-- Google Reviews Widget -->
  <ReviewWidget pagePath="/" />

  <!-- Service Areas Section -->
  <Section
    title="Serving All of Saskatchewan"
    subtitle="Container delivery and storage solutions across the province"
  >
    <div class="mx-auto max-w-5xl">
      <p class="text-center text-gray-600 mb-10">
        Based in <strong>Martensville</strong>, we deliver shipping containers throughout Saskatchewan.
        Whether you're in <strong>Saskatoon</strong>, <strong>Regina</strong>, or a rural community,
        we'll get your sea can where you need it.
      </p>
      <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4">
        {[
          { city: "Saskatoon", note: "Same-day available" },
          { city: "Martensville", note: "Headquarters" },
          { city: "Warman", note: "Local delivery" },
          { city: "Regina", note: "Province-wide" },
          { city: "Prince Albert", note: "Northern SK" },
          { city: "Moose Jaw", note: "Southern SK" },
          { city: "Swift Current", note: "Southwest SK" },
          { city: "North Battleford", note: "Northwest SK" },
          { city: "Yorkton", note: "Eastern SK" },
          { city: "Lloydminster", note: "Border region" },
        ].map((area) => (
          <div class="text-center p-4 rounded-lg bg-gray-50 hover:bg-primary-50 transition-colors">
            <div class="font-semibold text-gray-900">{area.city}</div>
            <div class="text-xs text-gray-500 mt-1">{area.note}</div>
          </div>
        ))}
      </div>
      <p class="text-center text-sm text-gray-500 mt-8">
        Don't see your area? We deliver throughout Saskatchewan — <a href="/contact" class="text-primary-600 hover:underline">contact us</a> for a delivery quote.
      </p>
    </div>
  </Section>

  <!-- FAQ Section -->
  <Section
    title="Frequently Asked Questions"
    subtitle="Everything you need to know about shipping containers in Saskatchewan"
    background="gray"
  >
    <div class="mx-auto max-w-4xl">
      <dl class="space-y-6">
        {faqs.map((faq) => (
          <div class="rounded-lg bg-white p-6 shadow-sm">
            <dt class="text-lg font-semibold text-gray-900">
              {faq.question}
            </dt>
            <dd class="mt-3 text-gray-600">
              {faq.answer}
            </dd>
          </div>
        ))}
      </dl>
    </div>
  </Section>

  <!-- Popular Searches / Related Topics - Long-tail SEO -->
  <section class="bg-gray-50 py-12 border-t border-gray-100">
    <div class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8">
      <h2 class="text-lg font-semibold text-gray-900 mb-4">Looking for shipping containers in Saskatchewan?</h2>
      <p class="text-gray-600 text-sm leading-relaxed">
        Whether you need a <a href="/containers/20ft-standard" class="text-primary-600 hover:underline">20ft shipping container in Saskatoon</a>,
        a <a href="/containers/40ft-high-cube" class="text-primary-600 hover:underline">40ft high cube sea can</a> for your farm,
        or <a href="/storage-container-rentals" class="text-primary-600 hover:underline">portable storage rentals</a> for a construction project —
        C-Can Sam has you covered. We offer <a href="/seacan-storage-containers-for-sale" class="text-primary-600 hover:underline">used shipping containers for sale in Saskatchewan</a> starting
        at $3,000, plus <a href="/storage-container-rentals" class="text-primary-600 hover:underline">flexible sea can rentals</a> with
        month-to-month terms. Looking to <a href="/seacan-storage-containers-for-sale" class="text-primary-600 hover:underline">buy a C-Can</a>?
        Browse our <a href="/containers/9ft-mini" class="text-primary-600 hover:underline">9ft mini containers</a>,
        <a href="/containers/40ft-standard" class="text-primary-600 hover:underline">40ft standard containers</a>,
        and more. We deliver to <strong>Saskatoon</strong>, <strong>Martensville</strong>, <strong>Warman</strong>, <strong>Regina</strong>,
        and throughout Saskatchewan. Need <a href="/on-site-storage-rentals" class="text-primary-600 hover:underline">secure storage near Saskatoon</a>?
        Visit our Martensville facility. <a href="/contact" class="text-primary-600 hover:underline font-medium">Get a free quote today</a>.
      </p>
    </div>
  </section>

  <!-- CTA Section -->
  <CTA
    title="Need a Shipping Container?"
    description="We're here to help with your shipping container needs! Whether you're looking to buy or rent, our team is ready to guide you."
    primaryButton={{ text: "Submit Your Inquiry", href: "/contact" }}
    secondaryButton={{ text: "View Our Containers", href: "/storage-container-sales-and-rentals" }}
  />
</Layout>
