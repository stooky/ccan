---
interface Feature {
  title: string;
  description: string;
  icon?: string;
}

interface Props {
  features: Feature[];
  columns?: 2 | 3 | 4;
}

const { features, columns = 3 } = Astro.props;

const gridCols = {
  2: 'md:grid-cols-2',
  3: 'md:grid-cols-2 lg:grid-cols-3',
  4: 'md:grid-cols-2 lg:grid-cols-4',
};

// Default icons if none provided
const defaultIcon = `<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>`;
---

<div class={`grid grid-cols-1 gap-8 ${gridCols[columns]}`}>
  {features.map((feature) => (
    <div class="relative">
      <div class="flex h-12 w-12 items-center justify-center rounded-lg bg-primary-100 text-primary-600">
        <Fragment set:html={feature.icon || defaultIcon} />
      </div>
      <h3 class="mt-4 text-lg font-semibold text-gray-900">
        {feature.title}
      </h3>
      <p class="mt-2 text-gray-600">
        {feature.description}
      </p>
    </div>
  ))}
</div>
